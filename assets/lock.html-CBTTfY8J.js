import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as p}from"./app-DUp6jyhB.js";const a="/backend-book/assets/lock-C6V6nec5.png",i={};function c(n,e){return p(),o("div",null,e[0]||(e[0]=[r('<h2 id="一、分布式锁" tabindex="-1"><a class="header-anchor" href="#一、分布式锁"><span>一、分布式锁</span></a></h2><p>分布式锁是控制分布式系统之间同步访问共享资源的一种方式。</p><h2 id="二、zookeeper-分布式锁" tabindex="-1"><a class="header-anchor" href="#二、zookeeper-分布式锁"><span>二、zookeeper 分布式锁</span></a></h2><figure><img src="'+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>1、客户端A创建临时顺序节点 <code>demo</code>。并在节点下创建 <code>x_00000001</code>。</p><p>2、客户端A判断是否自己是第一个节点，如果是就锁成功。</p><p>3、客户端B创建临时顺序节点 <code>demo</code>。 并在节点下创建 <code>x_00000002</code>。</p><p>4、客户端B判读是否自己是第一个节点，如果是第一个节点，就加锁成功。如果不是第一个节点就会创建第二个节点，然后创建一个监听器，监听上一个节点。</p><p>5、客户端A执行完业务逻辑之后，会释放锁，并且会删除顺序节点 <code>x_00000001</code>。</p><p>6、zookeeper 服务器会通知客户端B，上级节点已经删除了。</p><p>7、客户端B会重新加锁。</p><h2 id="三、注意事项" tabindex="-1"><a class="header-anchor" href="#三、注意事项"><span>三、注意事项</span></a></h2><p>用临时顺序节点，如果某个客户端创建临时节点之后，不小心自己宕机了，zookeeper 服务器感知到哪个客户端宕机了，会自动删除对应的顺序节点。</p>',13)]))}const s=t(i,[["render",c],["__file","lock.html.vue"]]),m=JSON.parse('{"path":"/distributed/zookeeper/lock.html","title":"【第六篇章】分布式锁","lang":"zh-CN","frontmatter":{"title":"【第六篇章】分布式锁","index":false,"isOriginal":true,"category":"分布式技术","tag":"zookeeper","date":"2024-07-30T00:00:00.000Z","description":"一、分布式锁 分布式锁是控制分布式系统之间同步访问共享资源的一种方式。 二、zookeeper 分布式锁 1、客户端A创建临时顺序节点 demo。并在节点下创建 x_00000001。 2、客户端A判断是否自己是第一个节点，如果是就锁成功。 3、客户端B创建临时顺序节点 demo。 并在节点下创建 x_00000002。 4、客户端B判读是否自己是第一...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/backend-book/distributed/zookeeper/lock.html"}],["meta",{"property":"og:site_name","content":"极速蜗牛"}],["meta",{"property":"og:title","content":"【第六篇章】分布式锁"}],["meta",{"property":"og:description","content":"一、分布式锁 分布式锁是控制分布式系统之间同步访问共享资源的一种方式。 二、zookeeper 分布式锁 1、客户端A创建临时顺序节点 demo。并在节点下创建 x_00000001。 2、客户端A判断是否自己是第一个节点，如果是就锁成功。 3、客户端B创建临时顺序节点 demo。 并在节点下创建 x_00000002。 4、客户端B判读是否自己是第一..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-29T05:07:45.000Z"}],["meta",{"property":"article:author","content":"青衣"}],["meta",{"property":"article:tag","content":"zookeeper"}],["meta",{"property":"article:published_time","content":"2024-07-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-29T05:07:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"【第六篇章】分布式锁\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-07-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-29T05:07:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"青衣\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"一、分布式锁","slug":"一、分布式锁","link":"#一、分布式锁","children":[]},{"level":2,"title":"二、zookeeper 分布式锁","slug":"二、zookeeper-分布式锁","link":"#二、zookeeper-分布式锁","children":[]},{"level":2,"title":"三、注意事项","slug":"三、注意事项","link":"#三、注意事项","children":[]}],"git":{"createdTime":1722229665000,"updatedTime":1722229665000,"contributors":[{"name":"Tsing","email":"ld320321@163.com","commits":1}]},"readingTime":{"minutes":1.06,"words":317},"filePathRelative":"distributed/zookeeper/lock.md","localizedDate":"2024年7月30日","excerpt":"<h2>一、分布式锁</h2>\\n<p>分布式锁是控制分布式系统之间同步访问共享资源的一种方式。</p>\\n<h2>二、zookeeper 分布式锁</h2>\\n<figure><figcaption></figcaption></figure>\\n<p>1、客户端A创建临时顺序节点 <code>demo</code>。并在节点下创建 <code>x_00000001</code>。</p>\\n<p>2、客户端A判断是否自己是第一个节点，如果是就锁成功。</p>\\n<p>3、客户端B创建临时顺序节点 <code>demo</code>。 并在节点下创建 <code>x_00000002</code>。</p>","autoDesc":true}');export{s as comp,m as data};
